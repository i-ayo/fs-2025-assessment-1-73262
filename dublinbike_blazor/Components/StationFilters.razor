<div class="filters shadow-sm card">
    <input class="input" placeholder="Search..." @bind="Search" />

    <select class="input" @bind="Status">
        <option value="all">All</option>
        <option value="OPEN">Open</option>
        <option value="CLOSED">Closed</option>
    </select>

    <label>Min Bikes: @MinBikes</label>
    <input type="range" min="0" max="40" @bind="MinBikes" />

    <button class="btn-clear" @onclick="ClearFilters">Clear Filters</button>
</div>

@code {
    [Parameter] public string Search { get; set; } = "";
    [Parameter] public EventCallback<string> SearchChanged { get; set; }

    [Parameter] public string Status { get; set; } = "all";
    [Parameter] public EventCallback<string> StatusChanged { get; set; }

    [Parameter] public int MinBikes { get; set; } = 0;
    [Parameter] public EventCallback<int> MinBikesChanged { get; set; }

    [Parameter] public EventCallback OnClear { get; set; }

    private async Task ClearFilters()
    {
        Search = "";
        Status = "all";
        MinBikes = 0;

        if (SearchChanged.HasDelegate) await SearchChanged.InvokeAsync(Search);
        if (StatusChanged.HasDelegate) await StatusChanged.InvokeAsync(Status);
        if (MinBikesChanged.HasDelegate) await MinBikesChanged.InvokeAsync(MinBikes);
        if (OnClear.HasDelegate) await OnClear.InvokeAsync();
    }
}
